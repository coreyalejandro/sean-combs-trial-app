(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8410:function(e,t,s){Promise.resolve().then(s.t.bind(s,7960,23)),Promise.resolve().then(s.bind(s,9812)),Promise.resolve().then(s.bind(s,7113)),Promise.resolve().then(s.bind(s,2798)),Promise.resolve().then(s.t.bind(s,8925,23)),Promise.resolve().then(s.t.bind(s,2885,23))},9812:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var r=s(7437),n=s(2265),a=s(5012),i=s(8614),o=s(8710),l=s(8728),c=s(2489);function d(){let[e,t]=(0,n.useState)(!1),{reducedMotion:s,highContrast:d,largeText:u,screenReaderMode:m,setReducedMotion:f,setHighContrast:h,setLargeText:x,setScreenReaderMode:g,resetSettings:b}=(0,a.f)();(0,n.useEffect)(()=>{let e=document.documentElement;e.classList.toggle("accessibility-reduced-motion",s),e.classList.toggle("accessibility-high-contrast",d),e.classList.toggle("accessibility-large-text",u),e.classList.toggle("dark",!0),e.setAttribute("data-reduced-motion",s.toString()),e.setAttribute("data-high-contrast",d.toString()),e.setAttribute("data-large-text",u.toString()),e.setAttribute("data-screen-reader",m.toString())},[s,d,u,m]);let y=(e,t,s)=>{s(!t);let r=`${e} ${t?"disabled":"enabled"}`,n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.className="sr-only",n.textContent=r,document.body.appendChild(n),setTimeout(()=>document.body.removeChild(n),1e3)},p=e=>{"Escape"===e.key&&t(!1)};return(0,r.jsxs)("div",{className:"fixed top-4 right-4 z-50 no-print",children:[(0,r.jsx)("button",{onClick:()=>t(!e),className:"bg-accent text-accent-foreground p-3 rounded-full shadow-lg hover:bg-accent/90 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 transition-all duration-200","aria-label":"Open accessibility controls","aria-expanded":e,onKeyDown:p,children:(0,r.jsx)(l.Z,{className:"w-6 h-6"})}),(0,r.jsx)(i.M,{children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>t(!1),"aria-hidden":"true"}),(0,r.jsxs)(o.E.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-16 right-0 bg-card text-card-foreground rounded-lg shadow-xl p-6 w-80 border border-border z-50",role:"dialog","aria-modal":"true","aria-labelledby":"accessibility-title",onKeyDown:p,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{id:"accessibility-title",className:"text-lg font-semibold",children:"Accessibility Settings"}),(0,r.jsx)("button",{onClick:()=>t(!1),className:"p-1 rounded-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-accent","aria-label":"Close accessibility controls",children:(0,r.jsx)(c.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{htmlFor:"reduced-motion",className:"text-sm font-medium",children:["Reduce Motion",(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Disable animations and parallax effects"})]}),(0,r.jsx)("button",{id:"reduced-motion",onClick:()=>y("Reduced motion",s,f),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 ${s?"bg-accent":"bg-muted"}`,role:"switch","aria-checked":s,"aria-describedby":"reduced-motion-desc",children:(0,r.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-background transition-transform ${s?"translate-x-6":"translate-x-1"}`})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{htmlFor:"high-contrast",className:"text-sm font-medium",children:["High Contrast",(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Increase visual contrast for clarity"})]}),(0,r.jsx)("button",{id:"high-contrast",onClick:()=>y("High contrast",d,h),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 ${d?"bg-accent":"bg-muted"}`,role:"switch","aria-checked":d,children:(0,r.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-background transition-transform ${d?"translate-x-6":"translate-x-1"}`})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{htmlFor:"large-text",className:"text-sm font-medium",children:["Large Text",(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Increase font sizes for readability"})]}),(0,r.jsx)("button",{id:"large-text",onClick:()=>y("Large text",u,x),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 ${u?"bg-accent":"bg-muted"}`,role:"switch","aria-checked":u,children:(0,r.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-background transition-transform ${u?"translate-x-6":"translate-x-1"}`})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("label",{htmlFor:"screen-reader",className:"text-sm font-medium",children:["Screen Reader Mode",(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Optimize for assistive technology"})]}),(0,r.jsx)("button",{id:"screen-reader",onClick:()=>y("Screen reader mode",m,g),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 ${m?"bg-accent":"bg-muted"}`,role:"switch","aria-checked":m,children:(0,r.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-background transition-transform ${m?"translate-x-6":"translate-x-1"}`})})]})]}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-border",children:(0,r.jsx)("button",{onClick:b,className:"w-full bg-muted text-muted-foreground py-2 px-4 rounded-md hover:bg-muted/80 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 transition-colors",children:"Reset All Settings"})})]})]})})]})}},7113:function(e,t,s){"use strict";s.d(t,{default:function(){return g}});var r=s(7437),n=s(2265),a=s(7648),i=s(9376);let o=(0,s(3011).U)(e=>({currentDay:1,isMenuOpen:!1,searchQuery:"",setCurrentDay:t=>e({currentDay:t}),setMenuOpen:t=>e({isMenuOpen:t}),setSearchQuery:t=>e({searchQuery:t})}));var l=s(5012),c=s(8614),d=s(8710),u=s(4502),m=s(3247),f=s(1047),h=s(2489),x=s(8293);function g(){let e=(0,i.useRouter)();(0,i.usePathname)();let{currentDay:t,isMenuOpen:s,searchQuery:g,setCurrentDay:b,setMenuOpen:y,setSearchQuery:p}=o(),{reducedMotion:j}=(0,l.f)(),[v,N]=(0,n.useState)([]),[w,k]=(0,n.useState)([]),[C,S]=(0,n.useState)(!1),[T,$]=(0,n.useState)(!1),E=Array.from({length:28},(e,t)=>t+1);(0,n.useEffect)(()=>{$(!0),M()},[]);let M=async()=>{try{let e=await fetch("/api/trial-days");if(e.ok){let t=await e.json();k(t)}}catch(e){console.error("Failed to fetch trial days for search:",e)}};(0,n.useEffect)(()=>{g.length>2?D(g):(N([]),S(!1))},[g,w]);let D=async e=>{S(!0);try{let t=e.toLowerCase().split(/\s+/).filter(e=>e.length>1),s=[];w.forEach(e=>{let r=`
          ${e.headlineTitle||""} 
          ${e.headlineSummary||""} 
          ${e.dataStoryPlan||""}
        `.toLowerCase(),n=[],a=0;t.forEach(t=>{let s=RegExp(`\\b${t}\\w*`,"gi");if((r.match(s)||[]).length>0){n.push(t);let r=(e.headlineTitle||"").toLowerCase().match(s)||[],i=(e.headlineSummary||"").toLowerCase().match(s)||[],o=(e.dataStoryPlan||"").toLowerCase().match(s)||[];a+=3*r.length+2*i.length+1*o.length}}),n.length>0&&a>0&&s.push({day:e.trialDayNumber,title:e.headlineTitle||`Trial Day ${e.trialDayNumber}`,summary:e.headlineSummary||"",relevanceScore:a,matchedTerms:n})});let r=s.sort((e,t)=>t.relevanceScore-e.relevanceScore).slice(0,8);N(r)}catch(e){console.error("Search error:",e),N([])}finally{S(!1)}},L=t=>{b(t),y(!1),p(""),N([]),e.push(`/day/${t}`)},R=(e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),L(t))},P=(e,t)=>{if(!t.length)return e;let s=e;return t.forEach(e=>{let t=RegExp(`(\\b${e}\\w*)`,"gi");s=s.replace(t,'<mark class="bg-yellow-200 text-yellow-900 px-1 rounded">$1</mark>')}),s};return T?(0,r.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-40 glass-card border-b border-border/50 no-print",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsx)("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),(0,r.jsxs)(a.default,{href:"/",className:"flex items-center space-x-2 text-xl font-serif font-bold text-foreground hover:text-accent focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 rounded-md px-2 py-1 transition-colors",children:[(0,r.jsx)(u.Z,{className:"w-8 h-8"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"The Combs Trial"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Trial"})]}),(0,r.jsx)("div",{className:"flex-1 max-w-lg mx-8 relative",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search testimony, evidence, witness names...",value:g,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-card text-card-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-colors","aria-label":"Search trial content"}),C?(0,r.jsx)("div",{className:"absolute left-3 top-2.5 h-5 w-5",children:(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-muted-foreground"})}):(0,r.jsx)(m.Z,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"}),(0,r.jsx)(c.M,{children:(v.length>0||C)&&(0,r.jsx)(d.E.div,{initial:j?{}:{opacity:0,y:-10},animate:j?{}:{opacity:1,y:0},exit:j?{}:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded-lg shadow-lg max-h-96 overflow-y-auto custom-scrollbar z-50",children:C?(0,r.jsxs)("div",{className:"px-4 py-3 text-center text-muted-foreground",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-accent mr-2"}),"Searching..."]}):v.length>0?v.map(e=>(0,r.jsxs)("button",{onClick:()=>L(e.day),onKeyDown:t=>R(t,e.day),className:"w-full px-4 py-3 text-left hover:bg-muted focus:bg-muted focus:outline-none transition-colors border-b border-border last:border-b-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsxs)("div",{className:"font-medium text-sm",children:["Trial Day ",e.day]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.matchedTerms.length," match",1!==e.matchedTerms.length?"es":""]})]}),(0,r.jsx)("div",{className:"text-xs font-medium text-foreground mb-1 line-clamp-1",dangerouslySetInnerHTML:{__html:P(e.title,e.matchedTerms)}}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground line-clamp-2",dangerouslySetInnerHTML:{__html:P(e.summary.substring(0,150)+(e.summary.length>150?"...":""),e.matchedTerms)}})]},e.day)):(0,r.jsxs)("div",{className:"px-4 py-3 text-center text-muted-foreground text-sm",children:['No results found for "',g,'"']})})})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(a.default,{href:"/",className:"hidden sm:flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium text-foreground hover:text-accent hover:bg-muted focus:outline-none focus:ring-2 focus:ring-accent transition-colors",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Timeline"})]}),(0,r.jsx)("button",{onClick:()=>y(!s),className:"p-2 rounded-md text-foreground hover:text-accent hover:bg-muted focus:outline-none focus:ring-2 focus:ring-accent transition-colors","aria-label":s?"Close menu":"Open menu","aria-expanded":s,children:s?(0,r.jsx)(h.Z,{className:"w-6 h-6"}):(0,r.jsx)(x.Z,{className:"w-6 h-6"})})]})]}),(0,r.jsx)(c.M,{children:s&&(0,r.jsx)(d.E.div,{initial:j?{}:{opacity:0,height:0},animate:j?{}:{opacity:1,height:"auto"},exit:j?{}:{opacity:0,height:0},className:"border-t border-border/50 py-4",children:(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-2",children:E.map(e=>(0,r.jsxs)("button",{onClick:()=>L(e),onKeyDown:t=>R(t,e),className:`p-3 rounded-lg text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-accent ${t===e?"bg-accent text-accent-foreground":"bg-muted text-muted-foreground hover:bg-muted/80 hover:text-foreground"}`,"aria-label":`Go to trial day ${e}`,children:["Day ",e]},e))})})})]})}):null}},2798:function(e,t,s){"use strict";s.d(t,{ThemeProvider:function(){return a}});var r=s(7437);s(2265);var n=s(5922);function a({children:e,...t}){return(0,r.jsx)(n.f,{...t,children:e})}},5012:function(e,t,s){"use strict";s.d(t,{f:function(){return a}});var r=s(3011),n=s(6885);let a=(0,r.U)()((0,n.tJ)(e=>({reducedMotion:!1,highContrast:!1,largeText:!1,screenReaderMode:!1,setReducedMotion:t=>e({reducedMotion:t}),setHighContrast:t=>e({highContrast:t}),setLargeText:t=>e({largeText:t}),setScreenReaderMode:t=>e({screenReaderMode:t}),resetSettings:()=>e({reducedMotion:!1,highContrast:!1,largeText:!1,screenReaderMode:!1})}),{name:"accessibility-settings"}))},7960:function(){}},function(e){e.O(0,[456,84,923,454,971,117,744],function(){return e(e.s=8410)}),_N_E=e.O()}]);